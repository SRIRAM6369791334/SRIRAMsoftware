:root{
  --bg:#f7f8fb;--fg:#1f2430;--muted:#6b7280;--surface:#fff;--surface-2:#f1f5f9;
  --primary:#0d6efd;--success:#16a34a;--warn:#f59e0b;--danger:#dc2626;
  --radius-xs:2px;--radius-sm:4px;--radius-md:8px;--radius-lg:12px;
  --space-1:clamp(.25rem,.35vw,.35rem);--space-2:clamp(.5rem,.6vw,.65rem);--space-3:clamp(.75rem,.9vw,.9rem);--space-4:clamp(1rem,1.2vw,1.2rem);--space-5:clamp(1.25rem,1.5vw,1.6rem);
  --elev-1:0 2px 8px rgba(0,0,0,.06);--elev-2:0 8px 20px rgba(0,0,0,.10);--elev-3:0 16px 35px rgba(0,0,0,.16);
  --shadow-soft:0 6px 16px rgba(17,24,39,.10),0 1px 2px rgba(17,24,39,.06);
  --font-0:clamp(.85rem,.85vw,.95rem);--font-1:clamp(1rem,1vw,1.1rem);--font-2:clamp(1.2rem,1.4vw,1.4rem);--font-3:clamp(1.5rem,2vw,2rem);
  --line-height:1.45;--card-density:1;--shadow-intensity:1;--anim-speed:1;
}
*{box-sizing:border-box}
html{scroll-behavior:smooth}
body{margin:0;background:var(--bg);color:var(--fg);font-size:var(--font-0);line-height:var(--line-height);transition:background .3s,color .3s}
h1,h2,h3{line-height:1.15;margin-bottom:var(--space-3)}h1{font-size:var(--font-3)}
.card{border:0;border-radius:var(--radius-md);box-shadow:var(--elev-1);transition:transform calc(.2s*var(--anim-speed)),box-shadow calc(.2s*var(--anim-speed));padding:calc(var(--space-2)*var(--card-density));background:var(--surface)}
.card:hover{box-shadow:var(--elev-2)}
.btn{position:relative;overflow:hidden;border-radius:var(--radius-sm);transform:translateZ(0);transition:transform .12s ease,box-shadow .15s ease}
.btn:active{transform:translateY(1px) scale(.99)}
.btn.magnetic:hover{transform:translateY(-1px)}
.input-focus-trail:focus{box-shadow:0 0 0 4px color-mix(in srgb,var(--primary) 25%,transparent)}
.form-control{border-radius:var(--radius-sm)}
.smart-spacing>*+*{margin-top:var(--space-3)}
.adaptive-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:var(--space-3)}
.elev-1{box-shadow:var(--elev-1)}.elev-2{box-shadow:var(--elev-2)}.elev-3{box-shadow:var(--elev-3)}
.round-xs{border-radius:var(--radius-xs)}.round-sm{border-radius:var(--radius-sm)}.round-md{border-radius:var(--radius-md)}.round-lg{border-radius:var(--radius-lg)}
.role-dense .card{padding:var(--space-2)}.role-simple .card{padding:var(--space-4)}
body[data-mode="dark"]{--bg:#111827;--fg:#e5e7eb;--surface:#1f2937;--surface-2:#111827;--muted:#9ca3af}
body[data-mode="glass"]{background:linear-gradient(125deg,#dbeafe,#ede9fe);}
body[data-mode="glass"] .card{background:rgba(255,255,255,.55);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.45)}
body[data-contrast="high"]{filter:contrast(1.2) saturate(1.05)}
body[data-focus="on"] .distraction{opacity:.2;filter:blur(2px)}
body[data-reduced-motion="on"] *{animation:none!important;transition:none!important}
body[data-tone="evening"]{--primary:#6366f1} body[data-tone="morning"]{--primary:#0ea5e9}
.progress-scroll{position:fixed;left:0;top:0;height:3px;background:var(--primary);z-index:1200;width:0}
.navbar.shrink{padding-top:.15rem!important;padding-bottom:.15rem!important;box-shadow:var(--shadow-soft)}
.command-palette{position:fixed;inset:0;background:rgba(0,0,0,.45);z-index:1080;display:flex;align-items:flex-start;justify-content:center;padding-top:10vh}
.command-palette-box{width:min(760px,95%);background:var(--surface);border-radius:10px;padding:1rem;box-shadow:var(--elev-3)}
.jarvis-msg{position:fixed;right:16px;bottom:16px;background:var(--primary);color:#fff;padding:.5rem .75rem;border-radius:8px;z-index:1300;box-shadow:var(--elev-2)}
.page-enter{animation:pageIn calc(.45s*var(--anim-speed)) cubic-bezier(.2,.8,.2,1)}
.page-exit{animation:pageOut calc(.25s*var(--anim-speed)) ease}
@keyframes pageIn{from{opacity:0;transform:translateY(8px) scale(.995);filter:blur(4px)}to{opacity:1;transform:none;filter:none}}
@keyframes pageOut{to{opacity:0;transform:translateY(-8px)}}
@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.03)}}
.kpi-breathe{animation:pulse 2.5s infinite}
.skeleton{position:relative;background:linear-gradient(90deg,#e5e7eb 25%,#f3f4f6 37%,#e5e7eb 63%);background-size:400% 100%;animation:shimmer 1.1s infinite}
@keyframes shimmer{0%{background-position:100% 0}100%{background-position:0 0}}
.toast-stack{position:fixed;right:1rem;top:4.5rem;display:grid;gap:.5rem;z-index:1400}.toast-item{padding:.6rem .8rem;border-radius:8px;color:#fff;box-shadow:var(--elev-2);animation:slideIn .22s ease}
.toast-item.info{background:#2563eb}.toast-item.warn{background:#d97706}.toast-item.critical{background:#b91c1c;animation:shake .3s ease 2}
@keyframes slideIn{from{opacity:0;transform:translateX(12px)}to{opacity:1;transform:none}}
@keyframes shake{25%{transform:translateX(-4px)}50%{transform:translateX(4px)}75%{transform:translateX(-3px)}}
.notification-center{position:fixed;right:1rem;bottom:4rem;width:min(350px,92vw);max-height:45vh;overflow:auto;background:var(--surface);border-radius:12px;box-shadow:var(--elev-3);padding:.5rem;z-index:1250}
.notif{padding:.5rem;border-radius:8px;display:flex;justify-content:space-between;gap:.5rem}.notif.unread::before{content:'';width:8px;height:8px;border-radius:50%;background:var(--primary);display:inline-block;margin-right:.35rem}
.hover-spot:hover{box-shadow:0 0 0 2px color-mix(in srgb,var(--primary) 45%,transparent),var(--elev-2)}
.cursor-light{position:fixed;width:180px;height:180px;border-radius:50%;pointer-events:none;background:radial-gradient(circle,rgba(13,110,253,.12),transparent 70%);z-index:10;mix-blend-mode:multiply;transform:translate(-50%,-50%)}
.depth-focus:focus-within{box-shadow:var(--elev-3);transform:translateY(-1px)}
.table-dense td,.table-dense th{padding:.35rem .45rem}.table-comfy td,.table-comfy th{padding:.85rem .95rem}
.hidden-rare{display:none!important}
.noise-overlay::after{content:'';position:fixed;inset:0;pointer-events:none;opacity:.04;background-image:radial-gradient(#000 1px,transparent 1px);background-size:3px 3px;z-index:1}
